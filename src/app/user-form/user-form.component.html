<div class="container">
  <h2>Templat-driven forms Exam</h2>
  <form #userForm="ngForm" (ngSubmit)="onSubmit(userForm)" novalidate>
    <div class="form-group">
      <label for="userid">User id</label>
      <input type="text" name="userid" class="form-control" [(ngModel)]="user.userid" #userid="ngModel"
        pattern="^[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*\.[a-zA-Z]{2,3}$" required>
        <em *ngIf="userid.error?.pattern && userid.touched" class="alert">
          user id는 email 형식으로 입력.
        </em>
        <em *ngIf="userid.error?.required && userid.touched" class="alert">
          user id는 사용할 email을 입력.
        </em>
        <em>
          (touched: {{ userid.touched }} | pristine: {{ userid.pristine }} | invalid" {{userid.invalid }})
        </em>
    </div>

    <div class="form-group">
      <label for="password">Password</label>
      <input type="password" name="password" class="form-control" [(ngModel)]="user.password" #password="ngModel"
        pattern="[a-zA-Z0-9]{4,9}" required>
        <em *ngIf="password.error?.pattern && password.touched" class="alert">
          패스워드는 영문 또는 숫자 4자리 이상 10자리 이하.
        </em>
        <em *ngIf="password.error?.required && password.touched" class="alert">
          패스워드 입력.
        </em>
        <em>
          (touched: {{ password.touched }} | pristine: {{ password.pristine }} | invalid" {{ password.invalid }})
        </em>
    </div>

    <div class="form-group">
      <label for="role">Role</label>
      <select class="form-control" name="role" [(ngModel)]="user.role" required>
        <option *ngFor="let role of roles; let i = index;" [value]="role">
          {{ role }}
        </option>
      </select>
    </div>

    <div class="form-group">
      <label for="username">User name</label>
      <input type="text" name="name" class="form-control" [(ngModel)]="user.name">
    </div>

    <button type="submit" class="btn btn-success" [disabled]="userForm.invalid">Submit</button>
  </form>

  <pre>userForm.value: {{ userForm.value | json }}</pre>
  <pre>userForm.valid: {{ userForm.valid }}</pre>
  <pre>user: {{ user | json }}</pre>
</div>